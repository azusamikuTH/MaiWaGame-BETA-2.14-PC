@echo off
chcp 65001 > nul

:: ============================================================================
:: สคริปต์แก้ไขการแสดงผลภาษาไทยสำหรับ Command Prompt
:: โดยจะทำการตั้งค่าเริ่มต้นให้ใช้ฟอนต์ที่รองรับภาษาไทยและปรับขนาดให้อ่านง่ายขึ้น
:: จัดทำเพื่อเกม "วิถีแห่งดาบไมวะ"
:: ============================================================================

echo.
echo ==========================================================
echo      ตัวช่วยตั้งค่าการแสดงผลภาษาไทย (Thai Display Fix)
echo ==========================================================
echo.
echo สคริปต์นี้จะทำการแก้ไขค่าเริ่มต้นของ Command Prompt (CMD)
echo เพื่อให้สามารถแสดงผลภาษาไทยในเกมได้อย่างถูกต้อง
echo.
echo การเปลี่ยนแปลงที่จะทำ:
echo   - ตั้งค่าฟอนต์เริ่มต้นเป็น "Lucida Console"
echo   - ตั้งค่าขนาดฟอนต์เริ่มต้นให้อ่านง่าย (ขนาด 20)
echo   - ตั้งค่าการเข้ารหัสภาษาเป็น UTF-8 (แก้ปัญหาสระลอย)
echo.

:confirm
set /p "choice=คุณต้องการดำเนินการต่อหรือไม่? (Y/N): "
if /i "%choice%"=="Y" goto :apply
if /i "%choice%"=="N" goto :cancel
echo.
echo "กรุณาพิมพ์ Y (ใช่) หรือ N (ไม่ใช่) เท่านั้น"
echo.
goto :confirm

:apply
echo.
echo กำลังใช้การตั้งค่าใหม่...
@REM --- ตั้งค่า Registry ---
REG ADD HKCU\Console /v FaceName /t REG_SZ /d "Lucida Console" /f > nul
REG ADD HKCU\Console /v FontSize /t REG_DWORD /d 0x00140000 /f > nul
REG ADD HKCU\Console /v FontWeight /t REG_DWORD /d 400 /f > nul
REG ADD HKCU\Console /v CodePage /t REG_DWORD /d 65001 /f > nul

echo.
echo ==========================================================
echo      ตั้งค่าสำเร็จ!
echo ==========================================================
echo.
echo ปิดหน้าต่างนี้ แล้วลองเปิดเกมใหม่อีกครั้ง
echo การแสดงผลภาษาไทยควรจะกลับมาเป็นปกติแล้วครับ
echo.
goto :end

:cancel
echo.
echo ยกเลิกการดำเนินการ... ไม่มีการเปลี่ยนแปลงใดๆ
echo.

:end
pause
