# -*- coding: utf-8 -*-
import random

def get_random_npc_dialogue(location_type):
    """
    คืนบทสนทนาและประเภทของ NPC แบบสุ่ม
    เพื่อให้โลกดูมีชีวิตชีวามากขึ้น
    """
    
    # --- Dialogue Pools ---
    capital_dialogue = [
        "สงครามโอนินนี่เมื่อไหร่จะจบสิ้นซะทีนะ...",
        "ข้าวของในเมืองหลวงแพงขึ้นทุกวัน อยู่ลำบากจริงๆ",
        "ข้าเห็นพวกซามูไรไร้นาย (โรนิน) เต็มไปหมด น่ากลัวจริงๆ",
        "เมื่อคืนก็ได้ยินเสียงการต่อสู้ดังมาจากทางทิศตะวันตกอีกแล้ว",
        "ระวังตัวด้วยนะพ่อหนุ่ม ยุคนี้ไว้ใจใครไม่ได้",
    ]
    countryside_dialogue = [
        "ปีนี้ผลผลิตดูไม่ค่อยดีเลย เพราะสงครามแท้ๆ",
        "หวังว่าพวกโจรป่าจะไม่มาปล้นหมู่บ้านเรานะ",
        "ข้าได้ยินเสียงหมาป่าหอนใกล้เข้ามาทุกคืน",
        "การเดินทางไปขายของที่เมืองอื่นตอนนี้อันตรายเกินไป",
        "ชีวิตเรียบง่ายแบบนี้แหละดีที่สุดแล้ว",
    ]
    female_dialogue = [
        "ท่านนักดาบจะเดินทางไปไหนหรือเจ้าคะ? โปรดระวังตัวด้วย",
        "ข้ากำลังจะไปตักน้ำที่บ่อพอดีเลย",
        "ถ้าท่านหาซื้อผ้าดีๆ ลองไปดูที่ตลาดในเมืองหลวงสิ",
        "ลูกของข้าไม่สบาย... ข้ากำลังหาสมุนไพรดีๆ อยู่",
        "เห็นท่านแล้วก็นึกถึงสามีของข้า... เขาไปรบแล้วก็ไม่กลับมาอีกเลย",
    ]
    child_dialogue = [
        "ท่านซามูไร! ดาบของท่านเท่จังเลย!",
        "โตขึ้นข้าจะเป็นซามูไรให้ได้เลย!",
        "ท่านเคยเห็นปีศาจกัปปะไหม? แม่บอกว่ามันชอบดึงเด็กๆ ลงน้ำ",
        "ให้ขนมข้าหน่อยได้ไหม?",
        "เล่นซ่อนแอบกันไหม?",
    ]
    elderly_dialogue = [
        "สมัยข้ายังหนุ่มยังแน่นน่ะนะ... แผ่นดินสงบสุขกว่านี้เยอะ",
        "คนหนุ่มสาวสมัยนี้ไม่ค่อยเคารพผู้หลักผู้ใหญ่เอาซะเลย",
        "หลังข้าปวดไปหมดแล้ว... อากาศจะเปลี่ยนอีกแล้วสินะ",
        "จงใช้ชีวิตอย่างมีสติ อย่าประมาท",
        "ทุกสิ่งล้วนอนิจจัง... เกิดขึ้น ตั้งอยู่ แล้วก็ดับไป",
    ]
    general_dialogue = [
        "อากาศวันนี้ดีจริงๆ", "ท่านเดินทางมาไกลหรือ?", "ข้าต้องรีบไปทำธุระต่อแล้ว",
        "ขอให้เป็นวันที่ดีนะ", "โลกนี้มันช่างกว้างใหญ่เสียจริง"
    ]

    # --- NPC Type Selection ---
    npc_types = ["ชาวบ้าน", "หญิงสาว", "เด็ก", "คนชรา"]
    chosen_npc_type = random.choice(npc_types)
    
    # --- Dialogue Selection Logic ---
    dialogue_pool = []
    if location_type == "เมืองหลวง":
        dialogue_pool.extend(capital_dialogue)
    else: # Countryside and others
        dialogue_pool.extend(countryside_dialogue)

    if chosen_npc_type == "หญิงสาว":
        dialogue_pool.extend(female_dialogue)
    elif chosen_npc_type == "เด็ก":
        dialogue_pool.extend(child_dialogue)
    elif chosen_npc_type == "คนชรา":
        dialogue_pool.extend(elderly_dialogue)
    
    dialogue_pool.extend(general_dialogue) # Add general dialogues for all types

    return chosen_npc_type, random.choice(dialogue_pool)

